@model ECommerceWeb.Models.DiscountCoupon
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"/>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.js"></script>
			<script src="//cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/e8bddc60e73c1ec2475f827be36e1957af72e2ea/src/js/bootstrap-datetimepicker.js"></script>
</head>
<body>
    <h3>Cart Page</h3>
    
    <table class="table table-bordered" cellpadding="2" cellspacing="2">
        <tr>
            <th>option</th>
            <th>Coupon Code</th>
            <th>Status</th>
            <th>Date</th>
            <th>Valli till</th>
            <th>Discount Price</th>
        </tr>
       @* @foreach (var item in ViewBag.Coupon)
        {
            <tr><td><a asp-controller="DiscountCoupon" asp-action="remove" asp-route-id="">
                            <button class="btn btn-success" onclick="return confirm('Are you sure you want to delete?')">Remove</button></a></td>
                <td>@item.CouponCode</td>
            </tr>
        }*@
    </table>
    <br>
    <a asp-controller="DiscountCoupon" asp-action="DiscountCoupon"> </a>
       
    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModal" data-whatever="">Add Coupon</button>
   


<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add Coupon</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="saveForm" method="post">
          <div class="form-group">
            <label asp-for="CouponCode" class="col-form-label"></label>
            <input asp-for="CouponCode" class="form-control" />
          </div>
          <div class="form-group">
            <label asp-for="Status" class="form-check-label"></label>
            <input asp-for="Status" class="form-check-input ml-2 p-2" type="checkbox" value="" id="flexCheckDefault">
          </div>
           <div class="form-group"  id='datetimepicker1'>
               
            <label asp-for="Date" class="form-check-label"></label>
            <label for="Date" class="col-form-label">Date</label>
            <input asp-for="Date" type="text" class="form-control" id='dtpickerdemo' >
          </div>
          <div class="form-group"  id='datetimepicker1'>
              
            <label asp-for="Valid_Till" class="form-check-label"></label>
            <label for="Date" class="col-form-label">Valid for</label>
            <input asp-for="Valid_Till" type="text" class="form-control" id='dtpickerdemo' >
          </div>
          <div class="form-group">
               <label asp-for="Discount" class="col-form-label"></label>  
               <input asp-for="Discount" class="form-control" />  
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button id="btnSave" type="submit" class="btn btn-success">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
</body>
<script>

$('#exampleModal').on('show.bs.modal', function (event) {
  var button = $(event.relatedTarget) // Button that triggered the modal
  var recipient = button.data('whatever') // Extract info from data-* attributes
  // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
  // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
  var modal = $(this)
  modal.find('.modal-title').text('New message to ' + recipient)
  modal.find('.modal-body input').val(recipient)
})
</script>
 <script type="text/javascript">
            $(function () {
                $('#dtpickerdemo').datetimepicker();
            });

           
            //$("#btnSave").click(function(e){
            //var form = $("#saveForm").serialize();
            // debugger;
            //    $.ajax({
            //        type : 'post',
            //        url : '@Url.Action("DiscountCoupon", "DiscountCoupon")',
            //        data : form,
            //        success : function(){
            //            alert("AJAX request successfully completed");
            //        }
            //    });
            //})
           
            $(function () 
            {   
                $("#btnSave").click(function (e) { 
                    $.ajax({   
                        url: "/DiscountCoupon/DiscountCoupon",   
                        type: "POST",   
                        //dataType: 'json',   
                        //contentType: 'application/x-www-form-urlencoded; charset=UTF-8',   
                        data: $("#saveForm").serialize() 
              
            });   
            
</script>
</html>
